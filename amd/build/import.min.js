define("local_entities/import",["exports","core_form/dynamicform","core/notification","core/str"],(function(_exports,_dynamicform,_notification,_str){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/*
   * @package    local_entities
   * @copyright  Wunderbyte GmbH <info@wunderbyte.at>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_dynamicform=_interopRequireDefault(_dynamicform),_notification=_interopRequireDefault(_notification);_exports.init=()=>{console.log("init import form");const importformcontainer=document.querySelector("#importformcontainer"),returnurl=importformcontainer.dataset.returnurl,dynamicForm=new _dynamicform.default(importformcontainer,"local_entities\\form\\import_form");dynamicForm.addEventListener(dynamicForm.events.FORM_SUBMITTED,(e=>{e.preventDefault();const response=e.detail;console.log(response);let message="successfullimport",type="success";1!=e.detail.success&&(message="failedimport",type="error"),(0,_str.get_string)(message,"local_entities").then((localizedmessage=>{e.detail.lineerrors&&_notification.default.addNotification({message:e.detail.lineerrors,type:"info"}),e.detail.error&&_notification.default.addNotification({message:e.detail.error,type:type}),_notification.default.addNotification({message:localizedmessage,type:type})})).catch((e=>{console.log(e)})),dynamicForm.load()})),dynamicForm.addEventListener(dynamicForm.events.FORM_CANCELLED,(e=>{e.preventDefault(),window.location.href=returnurl}))}}));

//# sourceMappingURL=import.min.js.map