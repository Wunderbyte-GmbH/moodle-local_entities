{"version":3,"sources":["../src/dynamicform.js"],"names":["searchInput","input","filter","li","a","i","txtValue","document","getElementById","value","toUpperCase","querySelectorAll","length","querySelector","textContent","innerText","console","log","indexOf","style","display","addEvents","addEventListener","e","target","dataset","action","preventDefault","stopPropagation","entityidfield","entityid","entitynamefield","entityname","init"],"mappings":"uJAsBO,GAAMA,CAAAA,CAAW,CAAG,UAAM,CAC7B,GAAIC,CAAAA,CAAJ,CAAWC,CAAX,CAAmBC,CAAnB,CAAuBC,CAAvB,CAA0BC,CAA1B,CAA6BC,CAA7B,CACAL,CAAK,CAAGM,QAAQ,CAACC,cAAT,CAAwB,cAAxB,CAAR,CACAN,CAAM,CAAGD,CAAK,CAACQ,KAAN,CAAYC,WAAZ,EAAT,CACAP,CAAE,CAAGI,QAAQ,CAACI,gBAAT,CAA0B,uCAA1B,CAAL,CACA,IAAKN,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAGF,CAAE,CAACS,MAAnB,CAA2BP,CAAC,EAA5B,CAAgC,CAC5BD,CAAC,CAAGD,CAAE,CAACE,CAAD,CAAF,CAAMQ,aAAN,CAAoB,MAApB,CAAJ,CACAP,CAAQ,CAAGF,CAAC,CAACU,WAAF,EAAiBV,CAAC,CAACW,SAA9B,CACAC,OAAO,CAACC,GAAR,CAAYX,CAAZ,EACA,GAA6C,CAAC,CAA1C,CAAAA,CAAQ,CAACI,WAAT,GAAuBQ,OAAvB,CAA+BhB,CAA/B,CAAJ,CAAiD,CAC7CC,CAAE,CAACE,CAAD,CAAF,CAAMc,KAAN,CAAYC,OAAZ,CAAsB,EACzB,CAFD,IAEO,CACHjB,CAAE,CAACE,CAAD,CAAF,CAAMc,KAAN,CAAYC,OAAZ,CAAsB,MACzB,CACJ,CACJ,CAfM,C,gBAiBP,QAASC,CAAAA,CAAT,EAAqB,CACjBd,QAAQ,CAACM,aAAT,CAAuB,wBAAvB,EAAiDS,gBAAjD,CAAkE,OAAlE,CAA2E,SAASC,CAAT,CAAY,CACnF,GAA+B,WAA3B,EAAAA,CAAC,CAACC,MAAF,CAASC,OAAT,CAAiBC,MAArB,CAA4C,CACxCH,CAAC,CAACI,cAAF,GACAJ,CAAC,CAACK,eAAF,GACA,GAAIC,CAAAA,CAAa,CAAGtB,QAAQ,CAACM,aAAT,CAAuB,kCAAvB,CAApB,CACAgB,CAAa,CAACpB,KAAd,CAAsBc,CAAC,CAACC,MAAF,CAASC,OAAT,CAAiBK,QAAvC,CACA,GAAIC,CAAAA,CAAe,CAAGxB,QAAQ,CAACM,aAAT,CAAuB,oCAAvB,CAAtB,CACAkB,CAAe,CAACtB,KAAhB,CAAwBc,CAAC,CAACC,MAAF,CAASC,OAAT,CAAiBO,UAC5C,CACJ,CATD,EAUAzB,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCc,gBAAxC,CAAyD,OAAzD,CAAkE,UAAY,CAACtB,CAAW,EAAI,CAA9F,CACH,C,OAEmB,QAAPiC,CAAAA,IAAO,EAA4B,CAC5CZ,CAAS,EACZ,C","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/*\n * @package    mod_booking\n * @copyright  Wunderbyte GmbH <info@wunderbyte.at>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n\nexport const searchInput = () => {\n    let input, filter, li, a, i, txtValue;\n    input = document.getElementById(\"entitysearch\");\n    filter = input.value.toUpperCase();\n    li = document.querySelectorAll(\"#entitiesrelation-form .group-root>li\");\n    for (i = 0; i < li.length; i++) {\n        a = li[i].querySelector('span');\n        txtValue = a.textContent || a.innerText;\n        console.log(txtValue);\n        if (txtValue.toUpperCase().indexOf(filter) > -1) {\n            li[i].style.display = \"\";\n        } else {\n            li[i].style.display = \"none\";\n        }\n    }\n};\n\nfunction addEvents() {\n    document.querySelector(\"#entitiesrelation-form\").addEventListener('click', function(e) {\n        if (e.target.dataset.action == \"addentity\") {\n            e.preventDefault();\n            e.stopPropagation();\n            let entityidfield = document.querySelector(\"[name='local_entities_entityid']\");\n            entityidfield.value = e.target.dataset.entityid;\n            let entitynamefield = document.querySelector(\"[name='local_entities_entityname']\");\n            entitynamefield.value = e.target.dataset.entityname;\n        }\n    });\n    document.getElementById(\"entitysearch\").addEventListener('keyup', function () {searchInput();});\n}\n\nexport const init = (cmid, module, optionid) => {\n    addEvents();\n};\n"],"file":"dynamicform.min.js"}